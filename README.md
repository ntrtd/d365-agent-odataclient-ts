# Dynamics 365 AI Agent - D365 OData Client (TypeScript) (d365-agent-odataclient-ts)

This repository is responsible for generating a type-safe TypeScript OData V4 client library for interacting with Microsoft Dynamics 365.

## Overview

The primary purpose of this repository is to house the tooling, configuration, and process for generating TypeScript client code from the Dynamics 365 OData $metadata. This enables strongly-typed access to D365 entities and operations from TypeScript/Node.js applications.

## Key Features & Responsibilities

*   **OData Client Generation:** Contains the setup and scripts/tooling configuration (e.g., using `odata2ts` or SAP Cloud SDK OData Generator) to generate the TypeScript client code.
*   **Metadata Consumption:** Uses a Dynamics 365 OData $metadata XML file (typically sourced from the main `d365-agent/asset/d365_metadata.xml` or directly from a D365 instance) as input for the generation process.
*   **NPM Packaging:** The generated TypeScript client library is intended to be packaged as an npm package (e.g., `@d365-agent/odataclient-ts`) for easy consumption by other TypeScript projects.
*   **Potential Consumers:**
    *   `d365-agent-mcpserver-ts` (if a TypeScript-based D365 MCP Server is used).
    *   Directly by LangGraph agents within `d365-agent-orchestrator` if a direct TypeScript-to-D365 OData interaction path is chosen and functional.
*   **Version Control:** Manages different versions of the generated client as the D365 metadata evolves.
*   **CI/CD Automation:** Aims to automate the client generation and npm packaging process.

## Technology Stack

*   **TypeScript**
*   **Node.js** (for generation tooling)
*   **`odata2ts`** (submodule: `submodules/odata2ts` or `submodules/odata2ts-fork`) or **SAP Cloud SDK OData Generator**.
*   Build tools (e.g., `tsc`, `tsup`).
*   npm packaging tools.

## Current Status & Architectural Note

As of the latest architectural discussions, the primary path for D365 interaction involves the `.NET Core` based `d365-agent-mcpserver-dotnet` which utilizes a C# OData client generated by `d365-agent-odataclient-dotnet`. This is due to previously noted stability or functional issues with the TypeScript OData client generation for Dynamics 365.

This `d365-agent-odataclient-ts` repository and the client it generates remain valuable for:
*   Future scenarios where a TypeScript-based D365 MCP server might be preferred.
*   Direct D365 OData access from TypeScript LangGraph agents, should the generation issues be resolved and this path be chosen.
*   Interacting with other OData services from TypeScript applications.

Efforts may be allocated to improve the reliability of the generated TypeScript client for D365.

## Getting Started

(Details to be added - typically involves Node.js setup, ensuring generator tools are available, and running the generation script).
Refer to the `implementation.md` in this repository for a detailed development plan.

## Contribution

(Details on contribution guidelines if applicable, especially around updating metadata, configuring the generator, and resolving generation issues).
